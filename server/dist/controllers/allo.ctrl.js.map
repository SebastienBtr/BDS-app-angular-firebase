{"version":3,"sources":["../../src/controllers/allo.ctrl.js"],"names":["express","require","router","Router","alloService","get","req","res","console","log","findAll","orders","send","error","statusCode","errorCode","findActive","id","params","findActiveWithId","findWithId","post","body","state","updateActive","end","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;AAEA,IAAIC,cAAcH,QAAQ,yBAAR,CAAlB;;AAEAC,OAAOG,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAElCC,YAAQC,GAAR,CAAY,sBAAZ;;AAEAL,gBAAYM,OAAZ,CAAqB,UAACC,MAAD,EAAY;AAC7BJ,YAAIK,IAAJ,CAASD,MAAT;AAEH,KAHD,EAGG,UAACE,KAAD,EAAW;AACVL,gBAAQK,KAAR,CAAcA,KAAd;AACAN,YAAIO,UAAJ,GAAiB,GAAjB;AACAP,YAAIK,IAAJ,CAAS,EAAEG,WAAW,gCAAb,EAAT;AACH,KAPD;AASH,CAbD;;AAeAb,OAAOG,GAAP,CAAW,cAAX,EAA2B,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAErCC,YAAQC,GAAR,CAAY,yBAAZ;;AAEAL,gBAAYY,UAAZ,CAAwB,UAACL,MAAD,EAAY;AAChCJ,YAAIK,IAAJ,CAASD,MAAT;AAEH,KAHD,EAGG,UAACE,KAAD,EAAW;AACVL,gBAAQK,KAAR,CAAcA,KAAd;AACAN,YAAIO,UAAJ,GAAiB,GAAjB;AACAP,YAAIK,IAAJ,CAAS,EAAEG,WAAW,uCAAb,EAAT;AACH,KAPD;AASH,CAbD;;AAeAb,OAAOG,GAAP,CAAW,kBAAX,EAA+B,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAEzCC,YAAQC,GAAR,CAAY,gCAAZ;;AAEA,QAAIQ,KAAKX,IAAIY,MAAJ,CAAWD,EAApB;;AAEAb,gBAAYe,gBAAZ,CAA8BF,EAA9B,EAAkC,UAACN,MAAD,EAAY;AAC1CJ,YAAIK,IAAJ,CAASD,MAAT;AAEH,KAHD,EAGG,UAACE,KAAD,EAAW;AACVL,gBAAQK,KAAR,CAAcA,KAAd;AACAN,YAAIO,UAAJ,GAAiB,GAAjB;AACAP,YAAIK,IAAJ,CAAS,EAAEG,WAAW,6CAAb,EAAT;AACH,KAPD;AASH,CAfD;;AAiBAb,OAAOG,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAElCC,YAAQC,GAAR,CAAY,yBAAZ;;AAEA,QAAIQ,KAAKX,IAAIY,MAAJ,CAAWD,EAApB;;AAEAb,gBAAYgB,UAAZ,CAAwBH,EAAxB,EAA4B,UAACN,MAAD,EAAY;AACpCJ,YAAIK,IAAJ,CAASD,MAAT;AAEH,KAHD,EAGG,UAACE,KAAD,EAAW;AACVL,gBAAQK,KAAR,CAAcA,KAAd;AACAN,YAAIO,UAAJ,GAAiB,GAAjB;AACAP,YAAIK,IAAJ,CAAS,EAAEG,WAAW,sCAAb,EAAT;AACH,KAPD;AASH,CAfD;;AAiBAb,OAAOmB,IAAP,CAAY,yBAAZ,EAAuC,UAACf,GAAD,EAAMC,GAAN,EAAc;;AAEjDC,YAAQC,GAAR,CAAY,4BAAZ;;AAEA,QAAIQ,KAAKX,IAAIY,MAAJ,CAAWD,EAApB;AACAT,YAAQC,GAAR,CAAYH,IAAIgB,IAAJ,CAASC,KAArB;AACA,QAAIA,QAAQjB,IAAIgB,IAAJ,CAASC,KAAT,GAAiB,CAAjB,GAAqB,CAAjC;;AAEAnB,gBAAYoB,YAAZ,CAAyBP,EAAzB,EAA4BM,KAA5B,EAAmC,YAAM;AACrChB,YAAIkB,GAAJ;AAEH,KAHD,EAGG,UAACZ,KAAD,EAAW;AACVL,gBAAQK,KAAR,CAAcA,KAAd;AACAN,YAAIO,UAAJ,GAAiB,GAAjB;AACAP,YAAIK,IAAJ,CAAS,EAAEG,WAAW,qCAAb,EAAT;AACH,KAPD;AASH,CAjBD;;AAmBAW,OAAOC,OAAP,GAAiBzB,MAAjB","file":"allo.ctrl.js","sourcesContent":["let express = require('express');\nlet router = express.Router();\n\nlet alloService = require('../services/allo.srv.js');\n\nrouter.get('/all-allo', (req, res) => {\n\n    console.log(\"call to get all allo\");\n\n    alloService.findAll( (orders) => {\n        res.send(orders);\n\n    }, (error) => {\n        console.error(error);\n        res.statusCode = 401;\n        res.send({ errorCode: 'Error SQL when searching allos' });\n    });\n\n});\n\nrouter.get('/allo-active', (req, res) => {\n\n    console.log(\"call to get allo active\");\n\n    alloService.findActive( (orders) => {\n        res.send(orders);\n\n    }, (error) => {\n        console.error(error);\n        res.statusCode = 401;\n        res.send({ errorCode: 'Error SQL when searching allos active' });\n    });\n\n});\n\nrouter.get('/allo-active/:id', (req, res) => {\n\n    console.log(\"call to get allo active for id\");\n\n    let id = req.params.id;\n\n    alloService.findActiveWithId( id, (orders) => {\n        res.send(orders);\n\n    }, (error) => {\n        console.error(error);\n        res.statusCode = 401;\n        res.send({ errorCode: 'Error SQL when searching allo active for id' });\n    });\n\n});\n\nrouter.get('/allo/:id', (req, res) => {\n\n    console.log(\"call to get allo for id\");\n\n    let id = req.params.id;\n\n    alloService.findWithId( id, (orders) => {\n        res.send(orders);\n\n    }, (error) => {\n        console.error(error);\n        res.statusCode = 401;\n        res.send({ errorCode: 'Error SQL when searching allo for id' });\n    });\n\n});\n\nrouter.post('/update-active-allo/:id', (req, res) => {\n\n    console.log(\"call to update active allo\");\n\n    let id = req.params.id;\n    console.log(req.body.state);\n    let state = req.body.state ? 1 : 0;\n\n    alloService.updateActive(id,state, () => {\n        res.end();\n\n    }, (error) => {\n        console.error(error);\n        res.statusCode = 401;\n        res.send({ errorCode: 'Error SQL when updating allo active' });\n    });\n\n});\n\nmodule.exports = router;"]}